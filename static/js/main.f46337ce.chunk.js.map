{"version":3,"sources":["utils/API.js","components/MovieCard.js","components/AddFavourites.js","App.js","index.js"],"names":["apiKey","process","query","axios","get","MovieCard","props","console","log","useState","movieInfo","setMovieInfo","useEffect","API","movieID","then","res","data","FavouriteComponent","favouriteComponent","className","Poster","alt","Title","src","onClick","handleFavouritesClick","AddFavourite","width","height","viewBox","class","fill","xmlns","fill-rule","d","App","searchRequest","setSearchRequest","error","setError","totalResults","resultList","setResultList","favourites","setFavourites","validate","valid","length","Search","map","el","imdbID","addFavouriteMovie","movie","newFavouriteList","autoComplete","onSubmit","event","preventDefault","type","name","value","placeholder","onChange","target","style","fontSize","i","AddFavourites","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kPACMA,EAASC,WAEA,EACI,SAAUC,GACzB,OAAOC,IAAMC,IAAN,yCAC6BJ,EAD7B,cACyCE,EADzC,yBAFI,EAOE,SAAUA,GACvB,OAAOC,IAAMC,IAAN,yCAC6BJ,EAD7B,cACyCE,EADzC,wB,OCoCIG,EA3CG,SAACC,GACjBC,QAAQC,IAAIF,GACZ,MAAkCG,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAEAC,qBAAU,WACRC,EAAkBP,EAAMQ,SACrBC,MAAK,SAACC,GAAD,OAASA,EAAIC,QAClBF,MAAK,SAACC,GACLL,EAAaK,QAEhB,CAACV,EAAMQ,UAEV,IAAMI,EAAqBZ,EAAMa,mBAEjC,OACE,mCACE,sBAAKC,UAAU,mDAAf,UACwB,QAArBV,EAAUW,OACT,qBAAKC,IAAKZ,EAAUa,MAAOC,IAAKd,EAAUW,SAE1C,qBACEC,IAAKZ,EAAUa,MACfC,IAAI,yDAGc,QAArBd,EAAUW,OACT,qBAAKD,UAAU,iEAAf,SACGV,EAAUa,QAGb,GAEF,qBACEE,QAAS,kBAAMnB,EAAMoB,sBAAsBpB,EAAMQ,UACjDM,UAAU,2DAFZ,SAIE,cAACF,EAAD,YCjBKS,EArBM,WACnB,OACE,qCACE,sBAAMP,UAAU,OAAhB,+BACA,qBACEQ,MAAM,MACNC,OAAO,MACPC,QAAQ,YACRC,MAAM,mBACNC,KAAK,MACLC,MAAM,6BANR,SAQE,sBACEC,YAAU,UACVC,EAAE,mFC4EGC,EArFH,WACV,MAA0C3B,mBAAS,IAAnD,mBAAO4B,EAAP,KAAsBC,EAAtB,KACA,EAA0B7B,mBAAS,IAAnC,mBAAO8B,EAAP,KAAcC,EAAd,KACA,EAAwC/B,mBAAS,IAAjD,mBAAOgC,EAAP,KACA,GADA,KACoChC,mBAAS,KAA7C,mBAAOiC,EAAP,KAAmBC,EAAnB,KACA,EAAoClC,mBAAS,IAA7C,mBAAOmC,EAAP,KAAmBC,EAAnB,KAeMC,EAAW,SAACT,GAChB,IAAMU,EAAQV,GAAiBA,EAAcW,OAAS,EAOtD,OANKD,GAGHP,EAAS,IAjBX3B,EAkBqBwB,GAjBlBtB,MAAK,SAACC,GAAD,OAASA,EAAIC,QAClBF,MAAK,SAACC,GACL,GAAKA,EAAIiC,OAAT,CAIA,IAAMP,EAAa1B,EAAIiC,OAAOC,KAAI,SAACC,GAAD,OAAQA,EAAGC,UAC7CT,EAAcD,QAJZC,EAAc,QAWlBH,GAAS,GAKJO,GAaHM,EAAoB,SAACC,GACzB,IAAMC,EAAgB,sBAAOX,GAAP,CAAmBU,IACzCT,EAAcU,IAGhB,OACE,mCACE,sBAAKnC,UAAU,iCAAf,UACE,uBAAMoC,aAAa,MAAMC,SAlBhB,SAACC,GACdA,EAAMC,iBACNb,EAAST,IAgBL,UACE,gDACA,uBACEuB,KAAK,OACLC,KAAK,gBACLC,MAAOzB,EACP0B,YAAY,qBACZC,SApBO,SAAC,GAAgB,IAC1BF,EADyB,EAAbG,OACGH,MACrBxB,EAAiBwB,MAoBX,mBAAGI,MAAO,CAAEC,SAAU,QAAtB,oIAIC5B,GAAS,8CACV,wBAAQqB,KAAK,SAAb,uBAGDnB,GAAgB,gDAAmBA,KAEpC,qBAAKrB,UAAU,MAAf,SACGsB,EAAWM,OAAS,EACjBN,EAAWQ,KAAI,SAACC,EAAIiB,GAAL,OACb,cAAC,EAAD,CAEEtD,QAASqC,EACTzB,sBAAuB2B,EACvBlC,mBAAoBkD,GAHfD,MAMT,qBChFdE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.f46337ce.chunk.js","sourcesContent":["import axios from \"axios\";\nconst apiKey = process.env.REACT_APP_OMDB_API_KEY;\n\nexport default {\n  getSearchByName: function (query) {\n    return axios.get(\n      `http://www.omdbapi.com/?apikey=${apiKey}&s=${query}*&type=movie&page=1`\n    );\n  },\n\n  getSearchByID: function (query) {\n    return axios.get(\n      `http://www.omdbapi.com/?apikey=${apiKey}&i=${query}&type=movie&page=1`\n    );\n  },\n};\n","import React, { useState, useEffect } from \"react\";\nimport API from \"../utils/API\";\nimport \"../App.css\";\n\nconst MovieCard = (props) => {\n  console.log(props);\n  const [movieInfo, setMovieInfo] = useState({});\n\n  useEffect(() => {\n    API.getSearchByID(props.movieID)\n      .then((res) => res.data)\n      .then((res) => {\n        setMovieInfo(res);\n      });\n  }, [props.movieID]);\n\n  const FavouriteComponent = props.favouriteComponent;\n\n  return (\n    <>\n      <div className=\"image-container d-flex justify-content-start m-2\">\n        {movieInfo.Poster !== \"N/A\" ? (\n          <img alt={movieInfo.Title} src={movieInfo.Poster} />\n        ) : (\n          <img\n            alt={movieInfo.Title}\n            src=\"https://critics.io/img/movies/poster-placeholder.png\"\n          />\n        )}\n        {movieInfo.Poster === \"N/A\" ? (\n          <div className=\"no-image-text d-flex align-items-center justify-content-center\">\n            {movieInfo.Title}\n          </div>\n        ) : (\n          \"\"\n        )}\n        <div\n          onClick={() => props.handleFavouritesClick(props.movieID)}\n          className=\"overlay d-flex align-items-center justify-content-center\"\n        >\n          <FavouriteComponent />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default MovieCard;\n","import React from \"react\";\n\nconst AddFavourite = () => {\n  return (\n    <>\n      <span className=\"mr-2\">Add to Favourites</span>\n      <svg\n        width=\"1em\"\n        height=\"1em\"\n        viewBox=\"0 0 16 16\"\n        class=\"bi bi-heart-fill\"\n        fill=\"red\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fill-rule=\"evenodd\"\n          d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"\n        />\n      </svg>\n    </>\n  );\n};\n\nexport default AddFavourite;\n","import React, { useState, useEffect } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport MovieCard from \"./components/MovieCard\";\nimport AddFavourites from \"./components/AddFavourites\";\nimport API from \"./utils/API\";\n\nconst App = () => {\n  const [searchRequest, setSearchRequest] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [totalResults, setTotalResults] = useState(\"\");\n  const [resultList, setResultList] = useState([]);\n  const [favourites, setFavourites] = useState([]);\n\n  const searchMoviesByName = (query) => {\n    API.getSearchByName(query)\n      .then((res) => res.data)\n      .then((res) => {\n        if (!res.Search) {\n          setResultList([]);\n          return;\n        }\n        const resultList = res.Search.map((el) => el.imdbID);\n        setResultList(resultList);\n      });\n  };\n\n  const validate = (searchRequest) => {\n    const valid = searchRequest && searchRequest.length > 2;\n    if (!valid) {\n      setError(true);\n    } else {\n      setError(\"\");\n      searchMoviesByName(searchRequest);\n    }\n    return valid;\n  };\n\n  const search = (event) => {\n    event.preventDefault();\n    validate(searchRequest);\n  };\n\n  const onChange = ({ target }) => {\n    const value = target.value;\n    setSearchRequest(value);\n  };\n\n  const addFavouriteMovie = (movie) => {\n    const newFavouriteList = [...favourites, movie];\n    setFavourites(newFavouriteList);\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid main-container\">\n        <form autoComplete=\"off\" onSubmit={search}>\n          <label>Movie Title</label>\n          <input\n            type=\"text\"\n            name=\"searchRequest\"\n            value={searchRequest}\n            placeholder=\"Search for a movie\"\n            onChange={onChange}\n          />\n          <p style={{ fontSize: \"12px\" }}>\n            * Minimum of 3 case-insensitive characters required; search term can\n            be anywhere in movie title, and can be truncated.\n          </p>\n          {error && <p>invalid entry</p>}\n          <button type=\"submit\">Submit</button>\n        </form>\n\n        {totalResults && <p>Total Results: {totalResults}</p>}\n\n        <div className=\"row\">\n          {resultList.length > 0\n            ? resultList.map((el, i) => (\n                <MovieCard\n                  key={i}\n                  movieID={el}\n                  handleFavouritesClick={addFavouriteMovie}\n                  favouriteComponent={AddFavourites}\n                />\n              ))\n            : \"error here\"}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}