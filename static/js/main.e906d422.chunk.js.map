{"version":3,"sources":["utils/API.js","components/Banner.js","components/Header.js","components/Search.js","components/MovieTag.js","components/MovieCard.js","components/MovieInfo.js","App.js","index.js"],"names":["apiKey","process","query","axios","get","BannerComponent","nominees","className","length","title","visibleTime","css","marginBottom","Header","Navbar","bg","variant","style","lineHeight","Brand","href","Search","search","searchRequest","onChange","error","errorMessage","Jumbotron","autoComplete","onSubmit","type","name","value","placeholder","MovieTag","tag","undefined","test","parseInt","replace","match","MovieCard","movieInfo","handleNominatedClick","selectText","useState","isNominated","setIsNominated","useEffect","some","el","imdbID","Poster","alt","Title","src","Year","Genre","BoxOffice","onClick","MovieInfo","movieID","setMovieInfo","API","then","res","data","App","setSearchRequest","setError","setErrorMessage","resultCount","setResultCount","resultList","setResultList","setNominees","movieNominations","JSON","parse","localStorage","getItem","saveToLocalStorage","items","setItem","stringify","addNominatedMovie","movie","newNominatedList","removeNominatedMovie","filter","nominee","event","preventDefault","Response","Error","results","map","v","i","a","findIndex","t","totalResults","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e906d422.chunk.js","sourcesContent":["import axios from \"axios\";\nconst apiKey = process.env.REACT_APP_OMDB_API_KEY;\n\nexport default {\n  getSearchByName: function (query) {\n    return axios.get(\n      `https://www.omdbapi.com/?apikey=${apiKey}&s=${query}*&type=movie&page=1`\n    );\n  },\n\n  getSearchByID: function (query) {\n    return axios.get(\n      `https://www.omdbapi.com/?apikey=${apiKey}&i=${query}&type=movie&page=1`\n    );\n  },\n};\n","import React from \"react\";\nimport Banner from \"react-js-banner\";\n\nexport default function BannerComponent({ nominees }) {\n  return (\n    <div className=\"row\">\n      {nominees.length === 5 ? (\n        <div>\n          <Banner\n            title=\"Congratulations! You have nominated 5 movies - you're now finished! No further changes can be made.\"\n            visibleTime={3000}\n            css={{ marginBottom: \"0\" }}\n          />\n        </div>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\n\nexport default function Header() {\n  // return <div className=\"heading\">The Shoppies</div>;\n  return (\n    <Navbar\n      bg=\"secondary\"\n      variant=\"dark\"\n      className=\"justify-content-center\"\n      style={{ lineHeight: \"1\" }}\n    >\n      <Navbar.Brand href=\"#home\">The Shoppies</Navbar.Brand>\n    </Navbar>\n  );\n}\n","import React from \"react\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nexport default function Search({\n  search,\n  searchRequest,\n  onChange,\n  error,\n  errorMessage,\n}) {\n  return (\n    <div>\n      <Jumbotron className=\"text-center\">\n        <form autoComplete=\"off\" onSubmit={search}>\n          <input\n            type=\"text\"\n            name=\"searchRequest\"\n            value={searchRequest}\n            placeholder=\"Search for a movie...\"\n            onChange={onChange}\n          />\n          <button type=\"submit\">Search</button>\n        </form>\n        {error ? (\n          <p className=\"error\">\n            Sorry, error with search request.{\" \"}\n            <span className=\"error-message\">{errorMessage}</span> Please try\n            again.\n          </p>\n        ) : (\n          \"\"\n        )}\n      </Jumbotron>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function MovieTag({ tag }) {\n  return (\n    <>\n      {tag === undefined || tag === \"N/A\" ? (\n        \"\"\n      ) : /^\\d/.test(tag) ? (\n        <span className=\"overlay-tags\">{tag}</span>\n      ) : /^\\$/.test(tag) ? (\n        <span className=\"overlay-tags\">\n          {tag.length > 9\n            ? `$${parseInt(tag.replace(/\\$|,/g, \"\") / 1000000)}M`\n            : tag.length > 5\n            ? `$${parseInt(tag.replace(/\\$|,/g, \"\") / 1000)}K`\n            : tag}\n        </span>\n      ) : (\n        <span className=\"overlay-tags\">{tag.match(/\\w+/)[0]}</span>\n      )}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport MovieTag from \"./MovieTag\";\n\nexport default function MovieCard({\n  movieInfo,\n  handleNominatedClick,\n  selectText,\n  nominees,\n}) {\n  const [isNominated, setIsNominated] = useState(false);\n\n  useEffect(() => {\n    if (nominees !== undefined) {\n      const match = nominees.some((el) => el.imdbID === movieInfo.imdbID);\n      setIsNominated(match);\n    }\n  }, [nominees, movieInfo]);\n\n  return (\n    <>\n      <div className=\"image-container d-flex justify-content-start m-2\">\n        {movieInfo.Poster !== \"N/A\" ? (\n          <img alt={movieInfo.Title} src={movieInfo.Poster} />\n        ) : (\n          <img\n            alt={movieInfo.Title}\n            src=\"https://critics.io/img/movies/poster-placeholder.png\"\n          />\n        )}\n        {movieInfo.Poster === \"N/A\" ? (\n          <div className=\"no-image-text d-flex align-items-center justify-content-center\">\n            {movieInfo.Title}\n          </div>\n        ) : (\n          \"\"\n        )}\n        <div className=\"overlay align-items-center justify-content-center\">\n          <div>\n            <MovieTag tag={movieInfo.Year} />\n            <MovieTag tag={movieInfo.Genre} />\n            <MovieTag tag={movieInfo.BoxOffice} />\n          </div>\n          <div\n            onClick={\n              selectText === \"Nominate +\" &&\n              !isNominated &&\n              nominees !== undefined &&\n              nominees.length < 5\n                ? () => handleNominatedClick(movieInfo)\n                : selectText === \"Remove -\" &&\n                  nominees !== undefined &&\n                  nominees.length < 5\n                ? () => handleNominatedClick(movieInfo)\n                : undefined\n            }\n            className={\n              (selectText === \"Nominate +\" && isNominated) ||\n              (nominees !== undefined && nominees.length === 5)\n                ? \"overlay-is-nominated\"\n                : \"overlay-is-not-nominated\"\n            }\n          >\n            {selectText}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport API from \"../utils/API\";\nimport MovieCard from \"./MovieCard\";\nimport \"../App.css\";\n\nconst MovieInfo = ({ movieID, handleNominatedClick, selectText, nominees }) => {\n  const [movieInfo, setMovieInfo] = useState({});\n\n  useEffect(() => {\n    API.getSearchByID(movieID)\n      .then((res) => res.data)\n      .then((res) => {\n        setMovieInfo(res);\n      });\n  }, [movieID]);\n\n  return (\n    <MovieCard\n      movieInfo={movieInfo}\n      handleNominatedClick={handleNominatedClick}\n      selectText={selectText}\n      nominees={nominees}\n    />\n  );\n};\n\nexport default MovieInfo;\n","import React, { useState, useEffect } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport API from \"./utils/API\";\nimport BannerComponent from \"./components/Banner\";\nimport Header from \"./components/Header\";\nimport Search from \"./components/Search\";\nimport MovieInfo from \"./components/MovieInfo\";\nimport MovieCard from \"./components/MovieCard\";\n\nconst App = () => {\n  const [searchRequest, setSearchRequest] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [resultCount, setResultCount] = useState(0);\n  const [resultList, setResultList] = useState([]);\n  const [nominees, setNominees] = useState([]);\n\n  useEffect(() => {\n    const movieNominations = JSON.parse(\n      localStorage.getItem(\"movie-nominations\")\n    );\n    if (movieNominations) {\n      setNominees(movieNominations);\n    }\n  }, []);\n\n  const saveToLocalStorage = (items) => {\n    localStorage.setItem(\"movie-nominations\", JSON.stringify(items));\n  };\n\n  const searchMoviesByName = (query) => {\n    API.getSearchByName(query)\n      .then((res) => res.data)\n      .then((res) => {\n        if (res.Response === \"False\") {\n          setError(true);\n          setErrorMessage(res.Error);\n        } else {\n          setError(false);\n          setErrorMessage(\"\");\n          const results = res.Search.map((el) => el.imdbID).filter(\n            (v, i, a) => a.findIndex((t) => t === v) === i\n          );\n          setResultList(results);\n          const totalResults = res.totalResults;\n          setResultCount(totalResults);\n        }\n      });\n  };\n\n  const search = (event) => {\n    event.preventDefault();\n    searchMoviesByName(searchRequest);\n  };\n\n  const onChange = ({ target }) => {\n    const value = target.value;\n    setSearchRequest(value);\n  };\n\n  const addNominatedMovie = (movie) => {\n    const newNominatedList = [...nominees, movie];\n    setNominees(newNominatedList);\n    saveToLocalStorage(newNominatedList);\n  };\n\n  const removeNominatedMovie = (movie) => {\n    const newNominatedList = nominees.filter(\n      (nominee) => nominee.imdbID !== movie.imdbID\n    );\n    setNominees(newNominatedList);\n    saveToLocalStorage(newNominatedList);\n  };\n\n  return (\n    <>\n      <BannerComponent nominees={nominees} />\n      <Header />\n      <div className=\"container mt-4\">\n        <Search\n          searchRequest={searchRequest}\n          search={search}\n          onChange={onChange}\n          error={error}\n          errorMessage={errorMessage}\n          resultList={resultList}\n        ></Search>\n\n        <div className=\"container-fluid main-container mt-4\">\n          {resultList.length > 0 ? (\n            <div className=\"row results-header mb-2\">\n              Results: best matches from {resultCount} results\n            </div>\n          ) : (\n            \"\"\n          )}\n\n          <div className=\"row mb-3\">\n            {resultList.length > 0\n              ? resultList.map((el, i) => (\n                  <MovieInfo\n                    key={i}\n                    movieID={el}\n                    handleNominatedClick={addNominatedMovie}\n                    selectText=\"Nominate +\"\n                    nominees={nominees}\n                  />\n                ))\n              : \"\"}\n          </div>\n\n          {nominees.length > 0 ? (\n            <div className=\"row results-header mb-2\">Nominated Movies</div>\n          ) : (\n            \"\"\n          )}\n\n          <div className=\"row\">\n            {nominees.length > 0\n              ? nominees.map((el, i) => (\n                  <MovieCard\n                    key={i}\n                    movieInfo={el}\n                    handleNominatedClick={removeNominatedMovie}\n                    selectText=\"Remove -\"\n                    nominees={nominees}\n                  />\n                ))\n              : \"\"}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}