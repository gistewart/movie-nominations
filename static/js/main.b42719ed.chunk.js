(this["webpackJsonpmovie-nominations"]=this["webpackJsonpmovie-nominations"]||[]).push([[0],{12:function(e,t,n){},31:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(8),i=n.n(s),r=(n(31),n(26)),o=n(7),l=(n(32),n(12),n(14)),j=n.n(l),m="13a91a47",u=function(e){return j.a.get("https://www.omdbapi.com/?apikey=".concat(m,"&s=").concat(e,"*&type=movie&page=1"))},d=function(e){return j.a.get("https://www.omdbapi.com/?apikey=".concat(m,"&i=").concat(e,"&type=movie&page=1"))},b=n(24),h=n.n(b),f=n(1);function O(e){var t=e.nominees;return Object(f.jsx)("div",{className:"row",children:5===t.length?Object(f.jsx)("div",{children:Object(f.jsx)(h.a,{title:"You have nominated 5 movies",visibleTime:3e3})}):""})}var v=n(15);function x(){return Object(f.jsx)(v.a,{bg:"primary",variant:"dark",className:"justify-content-center",children:Object(f.jsx)(v.a.Brand,{href:"#home",children:"The Shoppies"})})}var g=n(25);function p(e){var t=e.search,n=e.searchRequest,c=e.onChange,a=e.error,s=e.errorMessage;return Object(f.jsx)("div",{children:Object(f.jsxs)(g.a,{className:"text-center",children:[Object(f.jsxs)("form",{autoComplete:"off",onSubmit:t,children:[Object(f.jsx)("input",{type:"text",name:"searchRequest",value:n,placeholder:"Search for a movie...",onChange:c}),Object(f.jsx)("button",{type:"submit",children:"Search"})]}),a?Object(f.jsxs)("p",{className:"error",children:["Sorry, error with search request: ",s," Please try again."]}):""]})})}function N(e){var t=e.tag;return Object(f.jsx)(f.Fragment,{children:void 0===t||"N/A"===t?"":/\d/.test(t)?Object(f.jsx)("span",{className:"overlay-tags",children:t}):Object(f.jsx)("span",{className:"overlay-tags",children:t.match(/\w+/)[0]})})}function y(e){var t=e.movieInfo,n=e.handleNominatedClick,a=e.selectText,s=e.nominees,i=Object(c.useState)(!1),r=Object(o.a)(i,2),l=r[0],j=r[1];return Object(c.useEffect)((function(){if(void 0!==s){var e=s.some((function(e){return e.imdbID===t.imdbID}));j(e)}}),[s,t]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"image-container d-flex justify-content-start m-2",children:["N/A"!==t.Poster?Object(f.jsx)("img",{alt:t.Title,src:t.Poster}):Object(f.jsx)("img",{alt:t.Title,src:"https://critics.io/img/movies/poster-placeholder.png"}),"N/A"===t.Poster?Object(f.jsx)("div",{className:"no-image-text d-flex align-items-center justify-content-center",children:t.Title}):"",Object(f.jsxs)("div",{className:"overlay align-items-center justify-content-center",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(N,{tag:t.Year}),Object(f.jsx)(N,{tag:t.Genre}),Object(f.jsx)(N,{tag:t.BoxOffice})]}),Object(f.jsx)("div",{onClick:l?void 0:function(){return n(t)},className:l?"overlay-is-nominated":"overlay-is-not-nominated",children:a})]})]})})}var S=function(e){var t=e.movieID,n=e.handleNominatedClick,a=e.selectText,s=e.nominees,i=Object(c.useState)({}),r=Object(o.a)(i,2),l=r[0],j=r[1];return Object(c.useEffect)((function(){d(t).then((function(e){return e.data})).then((function(e){j(e)}))}),[t]),Object(f.jsx)(y,{movieInfo:l,handleNominatedClick:n,selectText:a,nominees:s})},w=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(o.a)(s,2),l=i[0],j=i[1],m=Object(c.useState)(""),d=Object(o.a)(m,2),b=d[0],h=d[1],v=Object(c.useState)(0),g=Object(o.a)(v,2),N=g[0],w=g[1],I=Object(c.useState)([]),k=Object(o.a)(I,2),C=k[0],T=k[1],D=Object(c.useState)([]),R=Object(o.a)(D,2),E=R[0],q=R[1];Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("movie-nominations"));e&&q(e)}),[]);var F=function(e){localStorage.setItem("movie-nominations",JSON.stringify(e))},J=function(e){var t=[].concat(Object(r.a)(E),[e]);q(t),F(t)},M=function(e){var t=E.filter((function(t){return t.imdbID!==e.imdbID}));q(t),F(t)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x,{}),Object(f.jsx)(O,{nominees:E}),Object(f.jsxs)("div",{className:"container mt-4",children:[Object(f.jsx)(p,{searchRequest:n,search:function(e){e.preventDefault(),u(n).then((function(e){return e.data})).then((function(e){if("False"===e.Response)j(!0),h(e.Error);else{j(!1),h("");var t=e.Search.map((function(e){return e.imdbID})).filter((function(e,t,n){return n.findIndex((function(t){return t===e}))===t}));T(t);var n=e.totalResults;w(n)}}))},onChange:function(e){var t=e.target.value;a(t)},error:l,errorMessage:b,resultList:C}),Object(f.jsxs)("div",{className:"container-fluid main-container mt-4",children:[C.length>0?Object(f.jsxs)("div",{className:"row results-header mb-2",children:["Results: showing closest matches from a total of ",N," ","results"]}):"",Object(f.jsx)("div",{className:"row",children:C.length>0?C.map((function(e,t){return Object(f.jsx)(S,{movieID:e,handleNominatedClick:J,selectText:"Nominate +",nominees:E},t)})):""}),E.length>0?Object(f.jsx)("div",{className:"row results-header mb-2",children:"Nominated Movies"}):"",Object(f.jsx)("div",{className:"row",children:E.length>0?E.map((function(e,t){return Object(f.jsx)(y,{movieInfo:e,handleNominatedClick:M,selectText:"Remove -"},t)})):""})]})]})]})};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(w,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.b42719ed.chunk.js.map