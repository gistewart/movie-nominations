(this["webpackJsonpmovie-nominations"]=this["webpackJsonpmovie-nominations"]||[]).push([[0],{12:function(e,t,n){},31:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(8),i=n.n(s),r=(n(31),n(26)),o=n(7),l=(n(32),n(12),n(14)),j=n.n(l),m="13a91a47",u=function(e){return j.a.get("https://www.omdbapi.com/?apikey=".concat(m,"&s=").concat(e,"*&type=movie&page=1"))},d=function(e){return j.a.get("https://www.omdbapi.com/?apikey=".concat(m,"&i=").concat(e,"&type=movie&page=1"))},h=n(24),b=n.n(h),v=n(1);function f(e){var t=e.nominees;return Object(v.jsx)("div",{className:"row",children:5===t.length?Object(v.jsx)("div",{children:Object(v.jsx)(b.a,{title:"Congratulations! You have nominated 5 movies - you're now finished! No further changes can be made.",visibleTime:3e3,css:{marginBottom:"0"}})}):""})}var O=n(15);function x(){return Object(v.jsx)(O.a,{bg:"secondary",variant:"dark",className:"justify-content-center",style:{lineHeight:"1"},children:Object(v.jsx)(O.a.Brand,{href:"#home",children:"The Shoppies"})})}var g=n(25);function p(e){var t=e.search,n=e.searchRequest,c=e.onChange,a=e.error,s=e.errorMessage;return Object(v.jsx)("div",{children:Object(v.jsxs)(g.a,{className:"text-center",children:[Object(v.jsxs)("form",{autoComplete:"off",onSubmit:t,children:[Object(v.jsx)("input",{type:"text",name:"searchRequest",value:n,placeholder:"Search for a movie...",onChange:c}),Object(v.jsx)("button",{type:"submit",children:"Search"})]}),a?Object(v.jsxs)("p",{className:"error",children:["Sorry, error with search request."," ",Object(v.jsx)("span",{className:"error-message",children:s})," Please try again."]}):""]})})}function N(e){var t=e.tag;return Object(v.jsx)(v.Fragment,{children:void 0===t||"N/A"===t?"":/^\d/.test(t)?Object(v.jsx)("span",{className:"overlay-tags",children:t}):/^\$/.test(t)?Object(v.jsx)("span",{className:"overlay-tags",children:t.length>9?"$".concat(parseInt(t.replace(/\$|,/g,"")/1e6),"M"):t.length>5?"$".concat(parseInt(t.replace(/\$|,/g,"")/1e3),"K"):t}):Object(v.jsx)("span",{className:"overlay-tags",children:t.match(/\w+/)[0]})})}function y(e){var t=e.movieInfo,n=e.handleNominatedClick,a=e.selectText,s=e.nominees,i=Object(c.useState)(!1),r=Object(o.a)(i,2),l=r[0],j=r[1];return Object(c.useEffect)((function(){if(void 0!==s){var e=s.some((function(e){return e.imdbID===t.imdbID}));j(e)}}),[s,t]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"image-container d-flex justify-content-start m-2",children:["N/A"!==t.Poster?Object(v.jsx)("img",{alt:t.Title,src:t.Poster}):Object(v.jsx)("img",{alt:t.Title,src:"https://critics.io/img/movies/poster-placeholder.png"}),"N/A"===t.Poster?Object(v.jsx)("div",{className:"no-image-text d-flex align-items-center justify-content-center",children:t.Title}):"",Object(v.jsxs)("div",{className:"overlay align-items-center justify-content-center",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(N,{tag:t.Year}),Object(v.jsx)(N,{tag:t.Genre}),Object(v.jsx)(N,{tag:t.BoxOffice})]}),Object(v.jsx)("div",{onClick:"Nominate +"===a&&!l&&void 0!==s&&s.length<10||"Remove -"===a&&void 0!==s&&s.length<10?function(){return n(t)}:void 0,className:"Nominate +"===a&&l||void 0!==s&&5===s.length?"overlay-is-nominated":"overlay-is-not-nominated",children:a})]})]})})}var S=function(e){var t=e.movieID,n=e.handleNominatedClick,a=e.selectText,s=e.nominees,i=Object(c.useState)({}),r=Object(o.a)(i,2),l=r[0],j=r[1];return Object(c.useEffect)((function(){d(t).then((function(e){return e.data})).then((function(e){j(e)}))}),[t]),Object(v.jsx)(y,{movieInfo:l,handleNominatedClick:n,selectText:a,nominees:s})},w=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(o.a)(s,2),l=i[0],j=i[1],m=Object(c.useState)(""),d=Object(o.a)(m,2),h=d[0],b=d[1],O=Object(c.useState)(0),g=Object(o.a)(O,2),N=g[0],w=g[1],I=Object(c.useState)([]),k=Object(o.a)(I,2),C=k[0],T=k[1],D=Object(c.useState)([]),R=Object(o.a)(D,2),E=R[0],M=R[1];Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("movie-nominations"));e&&M(e)}),[]);var $=function(e){localStorage.setItem("movie-nominations",JSON.stringify(e))},q=function(e){var t=[].concat(Object(r.a)(E),[e]);M(t),$(t)},B=function(e){var t=E.filter((function(t){return t.imdbID!==e.imdbID}));M(t),$(t)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f,{nominees:E}),Object(v.jsx)(x,{}),Object(v.jsxs)("div",{className:"container mt-4",children:[Object(v.jsx)(p,{searchRequest:n,search:function(e){e.preventDefault(),u(n).then((function(e){return e.data})).then((function(e){if("False"===e.Response)j(!0),b(e.Error);else{j(!1),b("");var t=e.Search.map((function(e){return e.imdbID})).filter((function(e,t,n){return n.findIndex((function(t){return t===e}))===t}));T(t);var n=e.totalResults;w(n)}}))},onChange:function(e){var t=e.target.value;a(t)},error:l,errorMessage:h,resultList:C}),Object(v.jsxs)("div",{className:"container-fluid main-container mt-4",children:[C.length>0?Object(v.jsxs)("div",{className:"row results-header mb-2",children:["Results: showing closest matches from a total of ",N," ","results"]}):"",Object(v.jsx)("div",{className:"row mb-3",children:C.length>0?C.map((function(e,t){return Object(v.jsx)(S,{movieID:e,handleNominatedClick:q,selectText:"Nominate +",nominees:E},t)})):""}),E.length>0?Object(v.jsx)("div",{className:"row results-header mb-2",children:"Nominated Movies"}):"",Object(v.jsx)("div",{className:"row",children:E.length>0?E.map((function(e,t){return Object(v.jsx)(y,{movieInfo:e,handleNominatedClick:B,selectText:"Remove -",nominees:E},t)})):""})]})]})]})};i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(w,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.1629754a.chunk.js.map